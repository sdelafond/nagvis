From: Alexander Reichle-Schmehl <tolimar@debian.org>
Date: Wed, 12 Dec 2018 07:53:28 +0100
Subject: Change nagvis config paths for Debian

Reviewed-by: Markus Frosch <markus@lazyfrosch.de>
Last-Update: 2013-12-12
---
 share/server/core/classes/GlobalMainCfg.php | 10 +++++-----
 share/server/core/defines/global.php        |  6 +++---
 2 files changed, 8 insertions(+), 8 deletions(-)

diff --git a/share/server/core/classes/GlobalMainCfg.php b/share/server/core/classes/GlobalMainCfg.php
index 65e5ecb..2460503 100644
--- a/share/server/core/classes/GlobalMainCfg.php
+++ b/share/server/core/classes/GlobalMainCfg.php
@@ -1604,11 +1604,11 @@ class GlobalMainCfg {
      * @author 	Lars Michelsen <lm@larsmichelsen.com>
      */
     private function setPathsByBase($base, $htmlBase) {
-        $this->validConfig['paths']['cfg']['default']                = $base.'etc/';
-        $this->validConfig['paths']['mapcfg']['default']             = $base.'etc/maps/';
-        $this->validConfig['paths']['geomap']['default']             = $base.'etc/geomap';
-        $this->validConfig['paths']['profiles']['default']           = $base.'etc/profiles';
-        $this->validConfig['global']['authorisation_group_perms_file']['default'] = $base.'etc/perms.db';
+        $this->validConfig['paths']['cfg']['default']                = '/etc/nagvis/';
+        $this->validConfig['paths']['mapcfg']['default']             = '/etc/nagvis/maps/';
+        $this->validConfig['paths']['geomap']['default']             = '/etc/nagvis/geomap';
+        $this->validConfig['paths']['profiles']['default']           = '/etc/nagvis/profiles';
+        $this->validConfig['global']['authorisation_group_perms_file']['default'] = '/etc/perms.db';
 
         $this->validConfig['paths']['var']['default']                = $base.'var/';
         $this->validConfig['paths']['sharedvar']['default']          = $base.HTDOCS_DIR.'/var/';
diff --git a/share/server/core/defines/global.php b/share/server/core/defines/global.php
index 983cd96..2778f28 100644
--- a/share/server/core/defines/global.php
+++ b/share/server/core/defines/global.php
@@ -75,11 +75,11 @@ define('DEBUGFILE', '../../../var/nagvis-debug.log');
 // The last value wins.
 //
 // Path to the main configuration file
-define('CONST_MAINCFG', '../../../etc/nagvis.ini.php');
-define('CONST_MAINCFG_CACHE', '../../../var/nagvis-conf');
+define('CONST_MAINCFG', '/etc/nagvis/nagvis.ini.php');
+define('CONST_MAINCFG_CACHE', '/var/cache/nagvis/nagvis-conf');
 
 // Path to the main configuration conf.d directory
-define('CONST_MAINCFG_DIR', '../../../etc/conf.d');
+define('CONST_MAINCFG_DIR', '/etc/nagvis/conf.d');
 
 // The directory below the NagVis root which is shared by the webserver
 define('HTDOCS_DIR', 'share');
